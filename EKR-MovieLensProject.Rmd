---
title: "MovieLens Dataset Analysis"
author: "E.K. RIHANI"
date: "07/10/2021"
output: pdf_document
---

```{r setup, include=FALSE}
load("EKR-MovieLens.RData")
knitr::opts_chunk$set(echo = TRUE)
```

# 1. Overview

## 1.1 Goal of the study
The aim of this study is to analyze a MovieLens dataset and try to create a model that can predict users' future preferences based on their current preferences, using data analysis and machine learning techniques. 

## 1.2 The dataset
The MovieLens datasets were created by the GroupLens research lab, from the Department of Computer Science and Engineering at the University of Minnesota.  
The dataset used for this study is the 10M dataset ([link](https://grouplens.org/datasets/movielens/10m/).
The 10M MovieLens dataset contains `r total_number_ratings` ratings for `r total_number_movies` movies, from `r total_number_users` users.  
The provided information inclue the user unique ID (`r column_names[1]`), the movie unique ID (`r column_names[2]`), the rating given by the user (`r column_names[3]`), the timestamp of the rating (`r column_names[4]`), the title of the movie (`r column_names[5]`) and its genre (`r column_names[6]`).

# 2. Methods and Analysis
## 2.1 The recommenderlab toolkit
Our analysis will make ample use of the *recommenderlab* package, which includes quite powerful tools allows us to fully integrate them in our recommender system. Some of these tools can give stellar performances out of the box, with very simple code.

## 2.2 Preparing data sets for recommenderlab
The recommenderlab uses specific data structures, corresponding to the *RatingMatrix* and *realRatingMatrix* classes. In order to use the *recommenderlab* tools, we need to convert our *edx* dataset to a real rating matrix.
Actually, we will use a three step process, by first reducing our training set to a *edx_light* set that has a manageable size.
> size <- 0.5
> set.seed(1337, sample.kind="Rounding")
> index <- createDataPartition(y = edx$rating, times = 1, p = size, list = FALSE)
> edx_light <- edx[index,]
We then convert this *edx_light* set to a matrix, with *userId* as (rows/columns), *movieId* as (columns/rows) and *ratings* as values in the matrix.
> EDX <- acast(edx_light, userId ~ movieId, value.var = "rating")
And we finally convert this matrix to a realRatingMatrix.
> EDX <- as(EDX, "realRatingMatrix")

Section that explains the process and techniques used, including data cleaning, data exploration and visualization, insights gained, and your modeling approach


# 3. Results
Section that presents the modeling results and discusses the model performance

# 4. Conclusion
Section that gives a brief summary of the report, its limitations and future work

```{r cars}
summary(cars)
```

## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```
Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.